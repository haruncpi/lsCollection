"use strict";function lsCollection(e){if(!e||""===e)throw"a key name required for data sotre";this.keyName=e}lsCollection.prototype={generateId:function(){return Date.now()},getAll:function(){var e=localStorage.getItem(this.keyName);return(e=JSON.parse(e))||[]},insert:function(e){if("object"!=typeof e)throw"object required, given "+typeof e;var t=this.generateId(),n=this.getAll();return e._id=t,n.push(e),localStorage.setItem(this.keyName,JSON.stringify(n)),e},find:function(t){if("number"!=typeof t)throw"_id must be numeric, given "+typeof t;return this.getAll().find(function(e){return e._id===t})},findWhere:function(n){if("object"!=typeof n)throw"object required, given "+typeof n;return this.getAll().find(function(t){return Object.keys(n).every(function(e){return t[e]===n[e]})})},where:function(n){if("object"!=typeof n)throw"object required, given "+typeof n;var e=this.getAll(),i=[];return e.find(function(t){return Object.keys(n).every(function(e){t[e]===n[e]&&i.push(t)})}),i},update:function(t,e){if("number"!=typeof t)throw"_id must be numeric, given "+typeof t;var n=this.getAll(),i=n.findIndex(function(e){return e._id===t});return-1!==i&&(e._id=t,n[i]=e,localStorage.setItem(this.keyName,JSON.stringify(n)),e)},delete:function(t){if("number"!=typeof t)throw"_id must be numeric, given "+typeof t;var e=this.getAll(),n=e.findIndex(function(e){return e._id===t});return-1!==n&&(e.splice(n,1),localStorage.setItem(this.keyName,JSON.stringify(e)),!0)},flash:function(){localStorage.removeItem(this.keyName),console.log("flashed!")}};